<script lang="ts">
  export let customerName: string = "";
  export let paymentMethod: string = "";
  export let cart: { id: number; name: string; price: number; qty: number }[] = [];
  export let subtotal: number = 0;
  export let discount: number = 0;
  export let tax: number = 0;
  export let total: number = 0;

  function printReceipt() {
    window.print();
  }
</script>

<div class="border rounded p-4 bg-white shadow-md w-80 font-mono">
  <h2 class="text-center text-lg font-bold mb-2">‚òï My Coffee Shop</h2>
  <p class="text-center text-sm mb-4">Dinalupihan, Bataan</p>

  <p><strong>Customer:</strong> {customerName}</p>
  <p><strong>Payment:</strong> {paymentMethod}</p>
  <hr class="my-2" />

  <ul class="space-y-1">
    {#each cart as item}
      <li class="flex justify-between">
        <span>{item.name} √ó {item.qty}</span>
        <span>‚Ç±{item.price * item.qty}</span>
      </li>
    {/each}
  </ul>

  <hr class="my-2" />
  <p>Subtotal: ‚Ç±{subtotal}</p>
  {#if discount > 0}
    <p>Discount: ‚àí‚Ç±{discount}</p>
  {/if}
  <p>Tax: ‚Ç±{tax}</p>
  <p class="font-bold">Total: ‚Ç±{total}</p>

  <hr class="my-2" />
  <p class="text-center text-sm">Thank you for your purchase!</p>

  <button
    on:click={printReceipt}
    class="mt-4 w-full px-3 py-2 rounded bg-gray-800 text-white hover:bg-black"
  >
    üñ®Ô∏è Print Receipt
  </button>
</div>
